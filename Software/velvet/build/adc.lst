ARM GAS  /tmp/ccxwamL4.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"adc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.delay_us,"ax",%progbits
  18              		.align	1
  19              		.global	delay_us
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	delay_us:
  27              	.LVL0:
  28              	.LFB130:
  29              		.file 1 "Core/Src/adc.c"
   1:Core/Src/adc.c **** #include "adc.h"
   2:Core/Src/adc.c **** 
   3:Core/Src/adc.c **** void delay_us(uint8_t value){
  30              		.loc 1 3 29 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
   4:Core/Src/adc.c ****     uint8_t i;
  35              		.loc 1 4 5 view .LVU1
   5:Core/Src/adc.c ****     for(i=value; i > 0; i--);
  36              		.loc 1 5 5 view .LVU2
  37              		.loc 1 5 5 is_stmt 0 view .LVU3
  38 0000 01E0     		b	.L2
  39              	.LVL1:
  40              	.L3:
  41              		.loc 1 5 29 is_stmt 1 discriminator 3 view .LVU4
  42              		.loc 1 5 25 discriminator 3 view .LVU5
  43              		.loc 1 5 26 is_stmt 0 discriminator 3 view .LVU6
  44 0002 0138     		subs	r0, r0, #1
  45              	.LVL2:
  46              		.loc 1 5 26 discriminator 3 view .LVU7
  47 0004 C0B2     		uxtb	r0, r0
  48              	.LVL3:
  49              	.L2:
  50              		.loc 1 5 18 is_stmt 1 discriminator 1 view .LVU8
  51              		.loc 1 5 5 is_stmt 0 discriminator 1 view .LVU9
  52 0006 0028     		cmp	r0, #0
  53 0008 FBD1     		bne	.L3
ARM GAS  /tmp/ccxwamL4.s 			page 2


   6:Core/Src/adc.c **** }
  54              		.loc 1 6 1 view .LVU10
  55 000a 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE130:
  59              		.section	.text.convertToKg,"ax",%progbits
  60              		.align	1
  61              		.global	convertToKg
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  65              		.fpu fpv4-sp-d16
  67              	convertToKg:
  68              	.LVL4:
  69              	.LFB131:
   7:Core/Src/adc.c **** 
   8:Core/Src/adc.c **** // FDSFSD
   9:Core/Src/adc.c **** float convertToKg(unsigned long count){
  70              		.loc 1 9 39 is_stmt 1 view -0
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 0
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74              		@ link register save eliminated.
  75              		.loc 1 9 39 is_stmt 0 view .LVU12
  76 0000 07EE900A 		vmov	s15, r0	@ int
  10:Core/Src/adc.c **** 	float weight = (float)count/258;
  77              		.loc 1 10 2 is_stmt 1 view .LVU13
  78              		.loc 1 10 17 is_stmt 0 view .LVU14
  79 0004 F8EE677A 		vcvt.f32.u32	s15, s15
  80              	.LVL5:
  11:Core/Src/adc.c **** 	return  weight;
  81              		.loc 1 11 2 is_stmt 1 view .LVU15
  12:Core/Src/adc.c **** }
  82              		.loc 1 12 1 is_stmt 0 view .LVU16
  83 0008 9FED020A 		vldr.32	s0, .L5
  84 000c 87EE800A 		vdiv.f32	s0, s15, s0
  85              	.LVL6:
  86              		.loc 1 12 1 view .LVU17
  87 0010 7047     		bx	lr
  88              	.L6:
  89 0012 00BF     		.align	2
  90              	.L5:
  91 0014 00008143 		.word	1132527616
  92              		.cfi_endproc
  93              	.LFE131:
  95              		.section	.text.HX711_Read,"ax",%progbits
  96              		.align	1
  97              		.global	HX711_Read
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv4-sp-d16
 103              	HX711_Read:
 104              	.LFB132:
  13:Core/Src/adc.c **** 
  14:Core/Src/adc.c **** float HX711_Read (void) // ÑƒÑÐ¸Ð»ÐµÐ½Ð¸Ðµ 128
  15:Core/Src/adc.c **** {
ARM GAS  /tmp/ccxwamL4.s 			page 3


 105              		.loc 1 15 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109 0000 70B5     		push	{r4, r5, r6, lr}
 110              	.LCFI0:
 111              		.cfi_def_cfa_offset 16
 112              		.cfi_offset 4, -16
 113              		.cfi_offset 5, -12
 114              		.cfi_offset 6, -8
 115              		.cfi_offset 14, -4
  16:Core/Src/adc.c **** 	unsigned long count = 0; 
 116              		.loc 1 16 2 view .LVU19
 117              	.LVL7:
  17:Core/Src/adc.c **** 	unsigned char i; 	
 118              		.loc 1 17 2 view .LVU20
  18:Core/Src/adc.c ****   	HAL_GPIO_WritePin (GPIOD, GPIO_PIN_6, GPIO_PIN_RESET); // ÐšÐ¾Ð³Ð´Ð° Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð½Ðµ Ð³Ð¾Ñ‚Ð¾Ð
 119              		.loc 1 18 4 view .LVU21
 120 0002 0022     		movs	r2, #0
 121 0004 4021     		movs	r1, #64
 122 0006 2048     		ldr	r0, .L16
 123 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 124              	.LVL8:
  19:Core/Src/adc.c **** 	int ii = 0;
 125              		.loc 1 19 2 view .LVU22
 126              		.loc 1 19 6 is_stmt 0 view .LVU23
 127 000c 0024     		movs	r4, #0
 128 000e 03E0     		b	.L10
 129              	.LVL9:
 130              	.L8:
  20:Core/Src/adc.c ****     while(1)
  21:Core/Src/adc.c **** 	{
  22:Core/Src/adc.c **** 	    if(HAL_GPIO_ReadPin(GPIOD, GPIO_PIN_7) == 0)
  23:Core/Src/adc.c **** 		{
  24:Core/Src/adc.c **** 			delay_us(1);
  25:Core/Src/adc.c **** 			if(HAL_GPIO_ReadPin(GPIOD, GPIO_PIN_7) == 0)
  26:Core/Src/adc.c **** 			{
  27:Core/Src/adc.c **** 				break;
  28:Core/Src/adc.c **** 			}			
  29:Core/Src/adc.c **** 		}
  30:Core/Src/adc.c **** 			
  31:Core/Src/adc.c **** 		ii++;
 131              		.loc 1 31 3 is_stmt 1 view .LVU24
 132              		.loc 1 31 5 is_stmt 0 view .LVU25
 133 0010 0134     		adds	r4, r4, #1
 134              	.LVL10:
  32:Core/Src/adc.c **** 		if(ii >= 1000000)
 135              		.loc 1 32 3 is_stmt 1 view .LVU26
 136              		.loc 1 32 5 is_stmt 0 view .LVU27
 137 0012 1E4B     		ldr	r3, .L16+4
 138 0014 9C42     		cmp	r4, r3
 139 0016 0BDC     		bgt	.L9
 140              	.LVL11:
 141              	.L10:
  20:Core/Src/adc.c ****     while(1)
 142              		.loc 1 20 5 is_stmt 1 view .LVU28
  22:Core/Src/adc.c **** 		{
ARM GAS  /tmp/ccxwamL4.s 			page 4


 143              		.loc 1 22 6 view .LVU29
  22:Core/Src/adc.c **** 		{
 144              		.loc 1 22 9 is_stmt 0 view .LVU30
 145 0018 8021     		movs	r1, #128
 146 001a 1B48     		ldr	r0, .L16
 147 001c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 148              	.LVL12:
  22:Core/Src/adc.c **** 		{
 149              		.loc 1 22 8 view .LVU31
 150 0020 0028     		cmp	r0, #0
 151 0022 F5D1     		bne	.L8
  24:Core/Src/adc.c **** 			if(HAL_GPIO_ReadPin(GPIOD, GPIO_PIN_7) == 0)
 152              		.loc 1 24 4 is_stmt 1 view .LVU32
  25:Core/Src/adc.c **** 			{
 153              		.loc 1 25 4 view .LVU33
  25:Core/Src/adc.c **** 			{
 154              		.loc 1 25 7 is_stmt 0 view .LVU34
 155 0024 8021     		movs	r1, #128
 156 0026 1848     		ldr	r0, .L16
 157 0028 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 158              	.LVL13:
  25:Core/Src/adc.c **** 			{
 159              		.loc 1 25 6 view .LVU35
 160 002c 0028     		cmp	r0, #0
 161 002e EFD1     		bne	.L8
 162              	.L9:
  33:Core/Src/adc.c **** 		{
  34:Core/Src/adc.c **** 			break;
  35:Core/Src/adc.c **** 		}
  36:Core/Src/adc.c **** 	}
  37:Core/Src/adc.c **** 	delay_us(1);
 163              		.loc 1 37 2 is_stmt 1 view .LVU36
  38:Core/Src/adc.c ****   	for(i = 0; i < 24; i++)
 164              		.loc 1 38 4 view .LVU37
 165              	.LVL14:
 166              		.loc 1 38 10 is_stmt 0 view .LVU38
 167 0030 0024     		movs	r4, #0
 168              	.LVL15:
  16:Core/Src/adc.c **** 	unsigned char i; 	
 169              		.loc 1 16 16 view .LVU39
 170 0032 2646     		mov	r6, r4
 171              		.loc 1 38 4 view .LVU40
 172 0034 01E0     		b	.L11
 173              	.LVL16:
 174              	.L12:
 175              		.loc 1 38 23 is_stmt 1 discriminator 2 view .LVU41
 176              		.loc 1 38 24 is_stmt 0 discriminator 2 view .LVU42
 177 0036 0134     		adds	r4, r4, #1
 178              	.LVL17:
 179              		.loc 1 38 24 discriminator 2 view .LVU43
 180 0038 E4B2     		uxtb	r4, r4
 181              	.LVL18:
 182              	.L11:
 183              		.loc 1 38 15 is_stmt 1 discriminator 1 view .LVU44
 184              		.loc 1 38 4 is_stmt 0 discriminator 1 view .LVU45
 185 003a 172C     		cmp	r4, #23
 186 003c 13D8     		bhi	.L15
ARM GAS  /tmp/ccxwamL4.s 			page 5


  39:Core/Src/adc.c **** 	{ 			
  40:Core/Src/adc.c **** 		HAL_GPIO_WritePin(GPIOD,GPIO_PIN_6, GPIO_PIN_SET);
 187              		.loc 1 40 3 is_stmt 1 view .LVU46
 188 003e 124D     		ldr	r5, .L16
 189 0040 0122     		movs	r2, #1
 190 0042 4021     		movs	r1, #64
 191 0044 2846     		mov	r0, r5
 192 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 193              	.LVL19:
  41:Core/Src/adc.c **** 		delay_us(1);
 194              		.loc 1 41 3 view .LVU47
  42:Core/Src/adc.c **** 	  	count = count << 1; 	
 195              		.loc 1 42 5 view .LVU48
 196              		.loc 1 42 11 is_stmt 0 view .LVU49
 197 004a 7600     		lsls	r6, r6, #1
 198              	.LVL20:
  43:Core/Src/adc.c **** 		HAL_GPIO_WritePin(GPIOD,GPIO_PIN_6, GPIO_PIN_RESET);		
 199              		.loc 1 43 3 is_stmt 1 view .LVU50
 200 004c 0022     		movs	r2, #0
 201 004e 4021     		movs	r1, #64
 202 0050 2846     		mov	r0, r5
 203 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 204              	.LVL21:
  44:Core/Src/adc.c **** 	  	 if (HAL_GPIO_ReadPin (GPIOD, GPIO_PIN_7) == 1) // Ð§Ñ‚ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…
 205              		.loc 1 44 6 view .LVU51
 206              		.loc 1 44 10 is_stmt 0 view .LVU52
 207 0056 8021     		movs	r1, #128
 208 0058 2846     		mov	r0, r5
 209 005a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 210              	.LVL22:
 211              		.loc 1 44 9 view .LVU53
 212 005e 0128     		cmp	r0, #1
 213 0060 E9D1     		bne	.L12
  45:Core/Src/adc.c **** 		{
  46:Core/Src/adc.c **** 			count++; 
 214              		.loc 1 46 4 is_stmt 1 view .LVU54
 215              		.loc 1 46 9 is_stmt 0 view .LVU55
 216 0062 0136     		adds	r6, r6, #1
 217              	.LVL23:
 218              		.loc 1 46 9 view .LVU56
 219 0064 E7E7     		b	.L12
 220              	.L15:
  47:Core/Src/adc.c **** 		}		
  48:Core/Src/adc.c **** 			
  49:Core/Src/adc.c **** 	} 
  50:Core/Src/adc.c **** 	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_6, GPIO_PIN_SET);
 221              		.loc 1 50 2 is_stmt 1 view .LVU57
 222 0066 084C     		ldr	r4, .L16
 223              	.LVL24:
 224              		.loc 1 50 2 is_stmt 0 view .LVU58
 225 0068 0122     		movs	r2, #1
 226 006a 4021     		movs	r1, #64
 227 006c 2046     		mov	r0, r4
 228 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 229              	.LVL25:
  51:Core/Src/adc.c **** 	delay_us(2);
 230              		.loc 1 51 2 is_stmt 1 view .LVU59
ARM GAS  /tmp/ccxwamL4.s 			page 6


  52:Core/Src/adc.c ****          count = count ^ 0x800000; // ÐšÐ¾Ð³Ð´Ð° Ð½Ð°ÑÑ‚ÑƒÐ¿Ð°ÐµÑ‚ 25-Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¿Ð°Ð´ÐµÐ½
 231              		.loc 1 52 10 view .LVU60
 232              		.loc 1 52 16 is_stmt 0 view .LVU61
 233 0072 86F40006 		eor	r6, r6, #8388608
 234              	.LVL26:
  53:Core/Src/adc.c **** 	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_6, GPIO_PIN_RESET);
 235              		.loc 1 53 2 is_stmt 1 view .LVU62
 236 0076 0022     		movs	r2, #0
 237 0078 4021     		movs	r1, #64
 238 007a 2046     		mov	r0, r4
 239 007c FFF7FEFF 		bl	HAL_GPIO_WritePin
 240              	.LVL27:
  54:Core/Src/adc.c **** 
  55:Core/Src/adc.c **** 	float weight = convertToKg(count);
 241              		.loc 1 55 2 view .LVU63
 242              		.loc 1 55 17 is_stmt 0 view .LVU64
 243 0080 3046     		mov	r0, r6
 244 0082 FFF7FEFF 		bl	convertToKg
 245              	.LVL28:
  56:Core/Src/adc.c **** 	return weight;
 246              		.loc 1 56 2 is_stmt 1 view .LVU65
  57:Core/Src/adc.c **** }
 247              		.loc 1 57 1 is_stmt 0 view .LVU66
 248 0086 70BD     		pop	{r4, r5, r6, pc}
 249              	.LVL29:
 250              	.L17:
 251              		.loc 1 57 1 view .LVU67
 252              		.align	2
 253              	.L16:
 254 0088 000C0240 		.word	1073875968
 255 008c 3F420F00 		.word	999999
 256              		.cfi_endproc
 257              	.LFE132:
 259              		.section	.text.GetAnimalWight,"ax",%progbits
 260              		.align	1
 261              		.global	GetAnimalWight
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 265              		.fpu fpv4-sp-d16
 267              	GetAnimalWight:
 268              	.LFB133:
  58:Core/Src/adc.c **** 
  59:Core/Src/adc.c **** uint16_t GetAnimalWight(){
 269              		.loc 1 59 26 is_stmt 1 view -0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 40
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273 0000 10B5     		push	{r4, lr}
 274              	.LCFI1:
 275              		.cfi_def_cfa_offset 8
 276              		.cfi_offset 4, -8
 277              		.cfi_offset 14, -4
 278 0002 8AB0     		sub	sp, sp, #40
 279              	.LCFI2:
 280              		.cfi_def_cfa_offset 48
  60:Core/Src/adc.c **** 	int buf_size = 10;
ARM GAS  /tmp/ccxwamL4.s 			page 7


 281              		.loc 1 60 2 view .LVU69
 282              	.LVL30:
  61:Core/Src/adc.c **** 	float weight_buf[buf_size];
 283              		.loc 1 61 2 view .LVU70
  62:Core/Src/adc.c **** 	float weight_sum = 0;
 284              		.loc 1 62 2 view .LVU71
  63:Core/Src/adc.c **** 	int idx = 0;
 285              		.loc 1 63 2 view .LVU72
  64:Core/Src/adc.c **** 	float temp_wight = 0; 
 286              		.loc 1 64 2 view .LVU73
  65:Core/Src/adc.c **** 
  66:Core/Src/adc.c **** 	while (idx < buf_size){
 287              		.loc 1 66 2 view .LVU74
  63:Core/Src/adc.c **** 	float temp_wight = 0; 
 288              		.loc 1 63 6 is_stmt 0 view .LVU75
 289 0004 0024     		movs	r4, #0
 290              		.loc 1 66 8 view .LVU76
 291 0006 0AE0     		b	.L19
 292              	.LVL31:
 293              	.L20:
  67:Core/Src/adc.c **** 		weight_buf[idx] = HX711_Read();
 294              		.loc 1 67 3 is_stmt 1 view .LVU77
 295              		.loc 1 67 21 is_stmt 0 view .LVU78
 296 0008 FFF7FEFF 		bl	HX711_Read
 297              	.LVL32:
 298              		.loc 1 67 19 view .LVU79
 299 000c 0AAB     		add	r3, sp, #40
 300 000e 03EB8403 		add	r3, r3, r4, lsl #2
 301 0012 03ED0A0A 		vstr.32	s0, [r3, #-40]
  68:Core/Src/adc.c **** 		idx++;
 302              		.loc 1 68 3 is_stmt 1 view .LVU80
 303              		.loc 1 68 6 is_stmt 0 view .LVU81
 304 0016 0134     		adds	r4, r4, #1
 305              	.LVL33:
  69:Core/Src/adc.c **** 		HAL_Delay(200);
 306              		.loc 1 69 3 is_stmt 1 view .LVU82
 307 0018 C820     		movs	r0, #200
 308 001a FFF7FEFF 		bl	HAL_Delay
 309              	.LVL34:
 310              	.L19:
  66:Core/Src/adc.c **** 		weight_buf[idx] = HX711_Read();
 311              		.loc 1 66 8 view .LVU83
 312 001e 092C     		cmp	r4, #9
 313 0020 F2DD     		ble	.L20
 314              	.LBB2:
  70:Core/Src/adc.c **** 	}
  71:Core/Src/adc.c **** 	
  72:Core/Src/adc.c **** 	uint8_t count = 0;
  73:Core/Src/adc.c **** 	for(int i = 0; i < buf_size; i++){
 315              		.loc 1 73 10 is_stmt 0 view .LVU84
 316 0022 0023     		movs	r3, #0
 317              	.LBE2:
  72:Core/Src/adc.c **** 	for(int i = 0; i < buf_size; i++){
 318              		.loc 1 72 10 view .LVU85
 319 0024 1946     		mov	r1, r3
  62:Core/Src/adc.c **** 	int idx = 0;
 320              		.loc 1 62 8 view .LVU86
ARM GAS  /tmp/ccxwamL4.s 			page 8


 321 0026 DFED176A 		vldr.32	s13, .L32
 322 002a 00E0     		b	.L21
 323              	.LVL35:
 324              	.L22:
 325              	.LBB3:
 326              		.loc 1 73 31 is_stmt 1 discriminator 2 view .LVU87
 327              		.loc 1 73 32 is_stmt 0 discriminator 2 view .LVU88
 328 002c 0133     		adds	r3, r3, #1
 329              	.LVL36:
 330              	.L21:
 331              		.loc 1 73 17 is_stmt 1 discriminator 1 view .LVU89
 332              		.loc 1 73 2 is_stmt 0 discriminator 1 view .LVU90
 333 002e 092B     		cmp	r3, #9
 334 0030 17DC     		bgt	.L31
  74:Core/Src/adc.c **** 		if(weight_buf[i] > 100 && weight_buf[i] < 800){
 335              		.loc 1 74 3 is_stmt 1 view .LVU91
 336              		.loc 1 74 16 is_stmt 0 view .LVU92
 337 0032 0AAA     		add	r2, sp, #40
 338 0034 02EB8302 		add	r2, r2, r3, lsl #2
 339 0038 52ED0A7A 		vldr.32	s15, [r2, #-40]
 340              		.loc 1 74 5 view .LVU93
 341 003c 9FED127A 		vldr.32	s14, .L32+4
 342 0040 F4EEC77A 		vcmpe.f32	s15, s14
 343 0044 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 344 0048 F0DD     		ble	.L22
 345              		.loc 1 74 26 discriminator 1 view .LVU94
 346 004a 9FED107A 		vldr.32	s14, .L32+8
 347 004e F4EEC77A 		vcmpe.f32	s15, s14
 348 0052 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 349 0056 E9D5     		bpl	.L22
  75:Core/Src/adc.c **** 			weight_sum += weight_buf[i];
 350              		.loc 1 75 4 is_stmt 1 view .LVU95
 351              		.loc 1 75 15 is_stmt 0 view .LVU96
 352 0058 76EEA76A 		vadd.f32	s13, s13, s15
 353              	.LVL37:
  76:Core/Src/adc.c **** 			count++;
 354              		.loc 1 76 4 is_stmt 1 view .LVU97
 355              		.loc 1 76 9 is_stmt 0 view .LVU98
 356 005c 0131     		adds	r1, r1, #1
 357              	.LVL38:
 358              		.loc 1 76 9 view .LVU99
 359 005e C9B2     		uxtb	r1, r1
 360              	.LVL39:
 361              		.loc 1 76 9 view .LVU100
 362 0060 E4E7     		b	.L22
 363              	.L31:
 364              		.loc 1 76 9 view .LVU101
 365              	.LBE3:
  77:Core/Src/adc.c **** 		}
  78:Core/Src/adc.c **** 	}
  79:Core/Src/adc.c **** 
  80:Core/Src/adc.c **** 	if (count == 0){
 366              		.loc 1 80 2 is_stmt 1 view .LVU102
 367              		.loc 1 80 5 is_stmt 0 view .LVU103
 368 0062 61B1     		cbz	r1, .L27
  81:Core/Src/adc.c **** 		return 0;
  82:Core/Src/adc.c **** 	}
ARM GAS  /tmp/ccxwamL4.s 			page 9


  83:Core/Src/adc.c **** 
  84:Core/Src/adc.c **** 	return weight_sum/count;
 369              		.loc 1 84 2 is_stmt 1 view .LVU104
 370              		.loc 1 84 19 is_stmt 0 view .LVU105
 371 0064 07EE901A 		vmov	s15, r1	@ int
 372 0068 F8EEE77A 		vcvt.f32.s32	s15, s15
 373 006c 86EEA77A 		vdiv.f32	s14, s13, s15
 374 0070 FCEEC77A 		vcvt.u32.f32	s15, s14
 375 0074 17EE903A 		vmov	r3, s15	@ int
 376              	.LVL40:
 377              		.loc 1 84 19 view .LVU106
 378 0078 98B2     		uxth	r0, r3
 379              	.L26:
  85:Core/Src/adc.c **** }
 380              		.loc 1 85 1 view .LVU107
 381 007a 0AB0     		add	sp, sp, #40
 382              	.LCFI3:
 383              		.cfi_remember_state
 384              		.cfi_def_cfa_offset 8
 385              	.LVL41:
 386              		.loc 1 85 1 view .LVU108
 387              		@ sp needed
 388 007c 10BD     		pop	{r4, pc}
 389              	.LVL42:
 390              	.L27:
 391              	.LCFI4:
 392              		.cfi_restore_state
  81:Core/Src/adc.c **** 		return 0;
 393              		.loc 1 81 10 view .LVU109
 394 007e 0020     		movs	r0, #0
 395 0080 FBE7     		b	.L26
 396              	.L33:
 397 0082 00BF     		.align	2
 398              	.L32:
 399 0084 00000000 		.word	0
 400 0088 0000C842 		.word	1120403456
 401 008c 00004844 		.word	1145569280
 402              		.cfi_endproc
 403              	.LFE133:
 405              		.section	.text.ScalesCalibrate,"ax",%progbits
 406              		.align	1
 407              		.global	ScalesCalibrate
 408              		.syntax unified
 409              		.thumb
 410              		.thumb_func
 411              		.fpu fpv4-sp-d16
 413              	ScalesCalibrate:
 414              	.LFB134:
  86:Core/Src/adc.c **** 
  87:Core/Src/adc.c **** 
  88:Core/Src/adc.c **** void ScalesCalibrate(){
 415              		.loc 1 88 23 is_stmt 1 view -0
 416              		.cfi_startproc
 417              		@ args = 0, pretend = 0, frame = 0
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419              		@ link register save eliminated.
  89:Core/Src/adc.c **** 
ARM GAS  /tmp/ccxwamL4.s 			page 10


  90:Core/Src/adc.c **** }...
 420              		.loc 1 90 1 view .LVU111
 421 0000 7047     		bx	lr
 422              		.cfi_endproc
 423              	.LFE134:
 425              		.text
 426              	.Letext0:
 427              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 428              		.file 3 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 429              		.file 4 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 430              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
ARM GAS  /tmp/ccxwamL4.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 adc.c
     /tmp/ccxwamL4.s:18     .text.delay_us:0000000000000000 $t
     /tmp/ccxwamL4.s:26     .text.delay_us:0000000000000000 delay_us
     /tmp/ccxwamL4.s:60     .text.convertToKg:0000000000000000 $t
     /tmp/ccxwamL4.s:67     .text.convertToKg:0000000000000000 convertToKg
     /tmp/ccxwamL4.s:91     .text.convertToKg:0000000000000014 $d
     /tmp/ccxwamL4.s:96     .text.HX711_Read:0000000000000000 $t
     /tmp/ccxwamL4.s:103    .text.HX711_Read:0000000000000000 HX711_Read
     /tmp/ccxwamL4.s:254    .text.HX711_Read:0000000000000088 $d
     /tmp/ccxwamL4.s:260    .text.GetAnimalWight:0000000000000000 $t
     /tmp/ccxwamL4.s:267    .text.GetAnimalWight:0000000000000000 GetAnimalWight
     /tmp/ccxwamL4.s:399    .text.GetAnimalWight:0000000000000084 $d
     /tmp/ccxwamL4.s:406    .text.ScalesCalibrate:0000000000000000 $t
     /tmp/ccxwamL4.s:413    .text.ScalesCalibrate:0000000000000000 ScalesCalibrate

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_ReadPin
HAL_Delay
